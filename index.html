<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Znajdź lokalizację</title>
</head>

<body>
    <h1>Znajdź lokalizację</h1>
    <p id="szerokosc">Aktualna szerokosc geograficzna: BRAK</p>
    <p id="wysokosc">Aktualna wysokosc geograficzna: BRAK</p>
</body>

<script>
    let latitude = null;
    let longitude = null;

    function getCoordinatesFromURL() {
        const params = new URLSearchParams(window.location.search); // Pobierz parametry z URL
        latitude = params.get("lat"); // Odczytaj szerokość geograficzną
        longitude = params.get("lng"); // Odczytaj długość geograficzną

        console.log(latitude, " ", longitude)
        
        // Zaktualizuj widoczność współrzędnych na stronie
        if (latitude && longitude) {
            document.getElementById("szerokosc").innerHTML = "Aktualna szerokość geograficzna: " + latitude;
            document.getElementById("wysokosc").innerHTML = "Aktualna długość geograficzna: " + longitude;
        } 
    }

    window.onload = getCoordinatesFromURL;  // Uruchom funkcję przy załadowaniu strony

    let guzik = document.getElementById("guzik");
    guzik.addEventListener("click", function() {
        if (latitude && longitude) {
            const url = `https://www.google.com/maps?q=${latitude},${longitude}`; 
            window.open(url, "_blank"); // Otwórz Mapy Google w nowej karcie
        } else {
            alert("Proszę wprowadzić poprawne współrzędne w URL.");
        }
    });
</script>

</html>

